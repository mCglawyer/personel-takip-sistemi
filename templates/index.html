{% extends 'base.html' %} {# Ana şablonu (kahve temalı navbar vb.) miras alır #}
{% load static %}
{% load pwa %} {# PWA etiketleri için (base.html'de zaten var ama tekrar eklenebilir) #}

{# Sayfa başlığını base.html'deki bloğa gönder #}
{% block title %}Sisteme Giriş - GeekPanel{% endblock %}

{# base.html'deki <style> bloklarını ezelim (giriş sayfası için özel stil) #}
{% block head_styles %}
<style>
    /* Giriş sayfasını dikeyde ortalamak için base.html'deki stilleri eziyoruz */
    /* d-flex ve flex-column body'den geliyor */
    .content-wrapper {
        justify-content: center; /* İçeriği dikeyde ortala */
        min-height: 100vh;
        background-color: #f8f9fa; /* Arka planı açık gri yap */
    }
    /* Footer'ı (alt bilgi) giriş sayfasında gizle */
    .footer {
        display: none;
    }
    /* Navigasyon çubuğunu (navbar) giriş sayfasında gizle */
    nav.navbar {
        display: none;
    }
    
    /* İçerik container'ının margin'ini sıfırla */
    main.container {
        margin-top: 0 !important;
        margin-bottom: 0 !important;
    }
    .login-card {
        max-width: 450px; /* Giriş kutusu genişliği */
        margin: auto; /* Yatayda ortala */
    }
    .login-logo {
        max-width: 180px; /* Logo boyutu */
        height: auto;
    }
</style>
{% endblock %}


{# Ana içerik bloğunu doldur #}
{% block content %}
<div class="row justify-content-center">
    <div class="col-12 col-md-10 col-lg-8">
        {# Bootstrap Kart (Card) bileşeni kullanıyoruz #}
        <div class="card shadow border-0 login-card">
            <div class="card-body p-4 p-md-5">
                
                <div class="text-center mb-4">
                    {# Logonuzun static/images/logo.png adresinde olduğundan emin olun #}
                    <img src="{% static 'images/logo.png' %}" alt="Şirket Logosu" class="login-logo mb-3">
                    <h2 class="h3 mb-3 fw-normal">Sisteme Giriş</h2>
                </div>

                {# Canlı Saat ve Tarih Gösterimi #}
                <div id="clock-container" class="text-center text-muted mb-3">
                    <span id="date" class="d-block"></span>
                    <span id="time" class="d-block fs-5 fw-bold"></span>
                </div>

                <form id="login-form" method="POST">
                    {% csrf_token %}

                    {# Giriş hatası mesajı (Bootstrap alert ile) #}
                    {% if error_message %}
                        <div class="alert alert-danger" role="alert">
                            {{ error_message }}
                        </div>
                    {% endif %}

                    {# Bootstrap Form Floating Labels #}
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="username" name="username" placeholder="Kullanıcı Adı" required>
                        <label for="username">Kullanıcı Adı / E-posta</label>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="password" class="form-control" id="password" name="password" placeholder="Şifre" required>
                        <label for="password">Şifre</label>
                    </div>

                    <button class="w-100 btn btn-lg btn-dark" type="submit">GİRİŞ YAP</button> {# Koyu renk buton #}

                    <div class="text-center mt-3">
                        <a href="#" class="text-decoration-none text-muted small">Şifremi Unuttum?</a>
                    </div>
                </form>
                
            </div>
        </div>
    </div>
</div>
{% endblock %}


{# Gerekli script'leri base.html'deki scripts bloğuna gönder #}
{% block scripts %}
    {# Canlı saat/tarih için JavaScript dosyası #}
    <script src="{% static 'js/main.js' %}"></script>
{% endblock %}